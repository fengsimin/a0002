<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto AHeMm; Va_6e: if (!$this->table) { goto zAa_4; } goto znGvJ; TL0LI: $this->order[] = "\163\x6f\162\164\142\171\x20\104\x45\x53\103"; goto nYr3o; AHeMm: $this->admin = $_GET["\141\144\x6d\x69\156"]; goto Va_6e; uRqX3: $this->order[] = "\143\x74\151\155\145\40\x44\105\123\x43"; goto lj5on; djse4: $this->prefix = $this->db->getPrefix(); goto Do_XN; Pg4bC: $this->order = array(); goto c0q0Y; Do_XN: $this->fields = $this->_getTableFields($this->table); goto Pg4bC; PwXE3: if (!in_array("\143\x74\x69\155\x65", $this->fields)) { goto Zyo4i; } goto uRqX3; c0q0Y: if (!in_array("\x73\x6f\162\164\x62\171", $this->fields)) { goto foWRu; } goto TL0LI; znGvJ: $this->db = ifeiwu\Db::getInstance(); goto djse4; nYr3o: foWRu: goto PwXE3; lj5on: Zyo4i: goto ucB6o; ucB6o: zAa_4: goto gMAjB; gMAjB: } public function __destruct() { goto PlUIq; PlUIq: if (!APP_DEBUG) { goto Pc59E; } goto baGhS; baGhS: $this->_debug($this->db->log()); goto hyxTp; hyxTp: Pc59E: goto z8A2d; z8A2d: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto WcXWZ; Q4pOj: if (!$data) { goto F4Vwf; } goto TABDH; GpXny: F4Vwf: goto czuuS; JrJo1: $res["\x64\141\x74\141"] = $message; goto VOoUc; TABDH: $res["\144\141\164\x61"] = $data; goto GpXny; I7Gy7: $res["\x63\x6f\144\145"] = $code; goto wUOJY; L4lL0: $res["\155\145\163\163\141\x67\145"] = $message; goto piKWv; wUOJY: if (is_array($message)) { goto SXoII; } goto L4lL0; T31Z2: SXoII: goto JrJo1; czuuS: return $res; goto J_hat; piKWv: goto JG2gD; goto T31Z2; VOoUc: JG2gD: goto Q4pOj; WcXWZ: $res = array(); goto I7Gy7; J_hat: } protected function _bulidData($request_data) { goto AWviq; IcV8n: $data["\163\x74\x61\x74\x65"] = isset($data["\163\x74\141\164\145"]) ? $data["\163\164\141\x74\x65"] : 0; goto RI8Zf; O6VL0: $column[] = "\164\x69\164\x6c\145"; goto ni026; ni026: EX726: goto vzlJg; MaADa: foreach ($this->fields as $field) { goto teU7k; teU7k: $value = $request_data[$field]; goto LyBwQ; Yx_pZ: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto EKqGM; LyBwQ: if (!($value !== null)) { goto gZ1fG; } goto Yx_pZ; EKqGM: gZ1fG: goto TYxoJ; TYxoJ: HkXGM: goto LphZj; LphZj: } goto arGbZ; h5W1h: $column[] = "\141\154\x69\141\163"; goto KmKwG; ZMcK6: $data["\x6a\x73\x6f\156"] = $category ? json_encode(array("\x63" => $category)) : ''; goto kec9S; DBi4t: u8p3Z: goto fRngg; KmKwG: B1n6a: goto M_fVN; fRngg: $pid = $data["\x70\x69\144"]; goto eRvlT; arGbZ: CMgw9: goto IcV8n; c4gP4: $data["\143\164\x69\155\x65"] = strtotime($request_data["\143\164\151\x6d\145"]); goto DBi4t; OrzNa: if (!in_array("\164\x69\x74\154\145", $this->fields)) { goto EX726; } goto O6VL0; AWviq: $data = array(); goto MaADa; ycjsK: $column = array("\151\144"); goto OrzNa; fZMSt: return $data; goto hR7w1; eRvlT: if (!($pid > 0 && in_array("\152\x73\x6f\156", $this->fields))) { goto fl2ou; } goto ycjsK; vzlJg: if (!in_array("\x61\x6c\x69\x61\163", $this->fields)) { goto B1n6a; } goto h5W1h; M_fVN: $category = $this->db->select($this->table, $column)->where("\x69\x64\40\75\40{$pid}")->get(); goto ZMcK6; kec9S: fl2ou: goto fZMSt; RI8Zf: if (!isset($request_data["\x63\x74\151\155\x65"])) { goto u8p3Z; } goto c4gP4; hR7w1: } protected function _encode($data) { goto wxi64; wxi64: if (!is_array($data)) { goto tAap1; } goto tsAFM; OpLQe: lhnnV: goto JWyHb; J7Gnd: $tmp = clone $data; goto J2qjD; tsAFM: return array_map(array($this, "\137\145\x6e\143\157\x64\x65"), $data); goto EF7Gp; lQCWj: if (!is_object($data)) { goto lhnnV; } goto J7Gnd; J2qjD: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); zc5Ji: } goto kN2TY; JWyHb: return htmlspecialchars($data, ENT_QUOTES); goto xYQ1Y; nKnRs: return $tmp; goto OpLQe; kN2TY: OF_B8: goto nKnRs; EF7Gp: tAap1: goto lQCWj; xYQ1Y: } protected function _decode($data) { goto iffBN; yKR7R: return htmlspecialchars_decode($data, ENT_QUOTES); goto j0ikK; okIrJ: $tmp = clone $data; goto AvxO_; iffBN: if (!is_array($data)) { goto LNP0F; } goto GmfcK; z0ocs: if (!is_object($data)) { goto X6wQd; } goto okIrJ; d0sWl: return $tmp; goto rU_n_; feDCJ: LNP0F: goto z0ocs; t3ims: Dt1FP: goto d0sWl; GmfcK: return array_map(array($this, "\137\144\x65\x63\x6f\x64\x65"), $data); goto feDCJ; AvxO_: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); rTx15: } goto t3ims; rU_n_: X6wQd: goto yKR7R; j0ikK: } protected function _getTableFields($table) { goto Lpa_p; yOfsv: goto AaUd2; goto PBmka; gpkty: $table = $this->prefix . $this->table; goto yOfsv; TDQ7V: AaUd2: goto acWcB; Lpa_p: if ($table) { goto fTUMM; } goto gpkty; vtLMa: PlyOM: goto Bziv1; DYuS6: Hqi28: goto CVk6Z; zgxEZ: $i++; goto ABgio; gXN2o: $i = 0; goto vtLMa; PBmka: fTUMM: goto xHp2N; CVk6Z: return $fields; goto YaHlh; UdGPg: $count = $query->columnCount(); goto gXN2o; acWcB: $query = $this->db->query("\x53\x45\x4c\105\x43\124\x20\x2a\40\x46\x52\117\115\40{$table}"); goto UdGPg; xHp2N: $table = $this->prefix . $table; goto TDQ7V; ABgio: goto PlyOM; goto DYuS6; SsUHM: $column = $query->getColumnMeta($i); goto T6RPn; v2OP1: EoBSm: goto zgxEZ; Bziv1: if (!($i < $count)) { goto Hqi28; } goto SsUHM; T6RPn: $fields[] = $column["\x6e\x61\155\145"]; goto v2OP1; YaHlh: } protected function _callback($method, $params) { goto dpr4b; RVsiH: call_user_func_array(array($this, $method), $params); goto QiwP5; QiwP5: MKQlp: goto lAjIw; dpr4b: if (!(is_callable(array($this, $method)) !== false)) { goto MKQlp; } goto RVsiH; lAjIw: } protected function _getLevel($pid, $id) { goto Jo_XZ; HlLEE: return "\54" . implode("\54", array_reverse($list)) . "\54"; goto Zt_io; fh81u: HbhE2: goto yZVPw; lH6_T: $list[] = $pid; goto Y75ZP; Cq93H: dtXp6: goto l9v__; mnEUC: LA_aK: goto hHU6A; Vuuk5: if (!($pid === '')) { goto HbhE2; } goto H6QOT; Y75ZP: $this->_getLevel('', $pid); goto Tv22C; Zt_io: goto qUJSs; goto Cq93H; Jo_XZ: static $list = array(); goto Vuuk5; tZj3D: if (count($list) == 0) { goto LA_aK; } goto eG9XA; yZVPw: if (!($pid != 0)) { goto VuA4p; } goto lH6_T; H6QOT: $pid = $this->db->select($this->table, "\160\151\144")->where(array("\151\144", "\75", $id))->get(0); goto fh81u; Tv22C: VuA4p: goto tZj3D; mdoVD: psEkL: goto imrk9; xB4Cu: goto psEkL; goto mnEUC; ypJgN: qUJSs: goto xB4Cu; eG9XA: if ($id) { goto dtXp6; } goto HlLEE; l9v__: return "\x2c" . implode("\x2c", array_reverse($list)) . "\54" . $id . "\x2c"; goto ypJgN; hHU6A: return "\x2c" . $id . "\x2c"; goto mdoVD; imrk9: } protected function _saveData($table, $data, $where) { goto JdJ_N; XN9zV: WlojY: goto Gf4_h; vLdDw: LVoSj: goto luTo8; JdJ_N: if ($this->db->select($table)->where($where)->has()) { goto LVoSj; } goto hwox5; hwox5: return $this->db->insert($table, $data)->is(); goto LwRb8; LwRb8: goto WlojY; goto vLdDw; luTo8: return $this->db->update($table, $data, $where)->is(); goto XN9zV; Gf4_h: } protected function _saveImages($pid, $request_data) { goto IdNNK; XFg5o: $images_title = $request_data["\x69\x6d\x61\x67\145\x73\137\164\x69\164\154\x65"]; goto Ax2T6; gXwI6: foreach ($images_id as $i => $id) { goto o7Qcw; zcWTb: Iv__q: goto NvPK2; km7hZ: $data["\x69\x6d\141\x67\145"] = $images_name[$i]; goto c870W; qVlAH: unset($data["\x69\155\141\x67\145"], $data["\x69\x6d\141\147\145\137\x70\x61\x74\x68"]); goto Qm4X7; QnP8a: if (empty($id)) { goto BmWD2; } goto ilnrw; m0hkP: BmWD2: goto km7hZ; K3J_I: goto iADtz; goto m0hkP; Qm4X7: iADtz: goto zcWTb; Pv8oa: $data["\x73\x74\141\164\x65"] = $images_state[$i]; goto QnP8a; o7Qcw: $data["\164\x69\x74\154\145"] = $images_title[$i]; goto LZRH4; clw10: $this->db->insert($this->table, $data); goto qVlAH; ilnrw: $this->db->update($this->table, $data, array("\151\144", "\75", $id)); goto K3J_I; LZRH4: $data["\157\x72\x64\145\x72\142\x79"] = $images_order[$i]; goto Pv8oa; c870W: $data["\x69\x6d\x61\x67\145\137\160\141\164\x68"] = $images_path[$i]; goto clw10; NvPK2: } goto j1gFs; NUxNI: $data["\160\151\x64"] = $pid; goto Io8KE; IdNNK: $images_id = $request_data["\x69\x6d\x61\x67\x65\x73\x5f\151\x64"]; goto WMS3x; PwrO3: $images_path = $request_data["\x69\155\x61\147\145\163\x5f\160\141\164\150"]; goto ydl09; WMS3x: $images_order = $request_data["\x69\x6d\141\x67\145\x73\137\157\162\x64\x65\x72"]; goto XFg5o; Io8KE: $data["\x63\x74\151\155\x65"] = time(); goto gXwI6; j1gFs: ZJwYU: goto ONNkB; bVOgh: $data["\x74\171\x70\145"] = "\x69\155\x61\147\x65"; goto NUxNI; Ax2T6: $images_name = $request_data["\x69\x6d\141\147\x65\163\137\156\x61\155\145"]; goto PwrO3; ydl09: $images_state = $request_data["\x69\155\x61\147\x65\x73\x5f\163\x74\x61\x74\145"]; goto bVOgh; ONNkB: } protected function _removeFiles2($files) { goto IYZaD; b5dJ7: TpPQF: goto n1YJy; QzrLD: $files = json_decode($files, true); goto yU0vQ; FpiYW: if (!$files) { goto TpPQF; } goto ojld1; SI2A_: k9lNT: goto b5dJ7; IYZaD: if (!(!empty($files) && !is_array($files))) { goto Tc72u; } goto QzrLD; yU0vQ: Tc72u: goto FpiYW; ojld1: foreach ($files as $key => $value) { goto faSnT; grtus: $prefix = $value["\160\162\145\146\x69\x78"]; goto ftJNo; OWGHd: goto Aecfh; goto JDqVQ; mL7pw: $prefixs = explode("\54", $prefix); goto mHJfw; zjSfk: tWoYG: goto KnYOh; gfzP2: N2tao: goto mBtxA; at_UF: $filename = $path . "\x2f" . $name; goto F4n8f; JDqVQ: ADjIU: goto mL7pw; Z2ZV0: goto N2tao; goto JxRmr; F4n8f: if (!file_exists($filename)) { goto Q8ouM; } goto VjcP2; mHJfw: foreach ($prefixs as $prefix) { goto s1un_; xUyss: if (!file_exists($filename)) { goto ddSfU; } goto B7Xva; MLCAa: ddSfU: goto vDXiT; B7Xva: unlink($filename); goto MLCAa; vDXiT: QfjJ2: goto PgEd1; s1un_: $filename = "{$path}\57{$prefix}{$name}"; goto xUyss; PgEd1: } goto zjSfk; V3Zsf: Q8ouM: goto OWGHd; JxRmr: Yzy1n: goto NQX9h; NQX9h: $path = "\x2e\56\x2f" . $value["\160\141\164\150"]; goto grtus; VjcP2: unlink($filename); goto V3Zsf; ftJNo: if ($prefix) { goto ADjIU; } goto at_UF; RevbS: if ($name) { goto Yzy1n; } goto Z2ZV0; faSnT: $name = $value["\x6e\141\155\x65"]; goto RevbS; KnYOh: Aecfh: goto gfzP2; mBtxA: } goto SI2A_; n1YJy: } protected function _mkdir($path, $mode = 493) { goto jvxsk; nhzlf: return false; goto Y0Vrd; GDNAh: HAPBQ: goto nhzlf; gBjmy: return mkdir($path, $mode, true); goto GDNAh; jvxsk: if (is_dir($path)) { goto HAPBQ; } goto gBjmy; Y0Vrd: } protected function _rmdir($path) { goto K9LkW; WYqeF: UjhWE: goto F1Fwo; KPPi0: if (!($handle = opendir($path))) { goto uiO4t; } goto uTMqP; N3NpF: if (is_dir("{$path}\57{$item}")) { goto UjhWE; } goto AlNPX; F1Fwo: $this->_rmdir("{$path}\57{$item}"); goto vHqaW; Vtckz: goto cppLS; goto yOhMd; v0Ibm: if (rmdir($path)) { goto lTuQd; } goto eSLLh; K9LkW: if (is_dir($path)) { goto o4Wa1; } goto du7p9; uTMqP: cppLS: goto vhV5R; Cjr_Q: lTuQd: goto L7w26; TV4IE: Y_oOH: goto rWgAu; vHqaW: Dah0D: goto YD6Ga; rWgAu: uiO4t: goto JbDGz; AlNPX: unlink("{$path}\57{$item}"); goto DOTyg; YD6Ga: HouDA: goto Vtckz; du7p9: return false; goto V_umG; AItaO: closedir($handle); goto v0Ibm; L7w26: return true; goto TV4IE; yOhMd: xrT8A: goto AItaO; MzW58: goto Y_oOH; goto Cjr_Q; vhV5R: if (!(false !== ($item = readdir($handle)))) { goto xrT8A; } goto KN9ff; V_umG: o4Wa1: goto KPPi0; DOTyg: goto Dah0D; goto WYqeF; KN9ff: if (!($item != "\56" && $item != "\x2e\56")) { goto HouDA; } goto N3NpF; eSLLh: return false; goto MzW58; JbDGz: } protected function _bulidUploadPath($temp_path, $data) { goto jQ5ub; jQ5ub: $id = $data["\x69\x64"]; goto TXxH4; lnEtp: c56wS: goto DjOHo; gmOM3: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto XrDLg; ApVyM: if (!is_dir("\x2e\x2e\57" . $temp_path)) { goto RHLaA; } goto VmAg3; DjOHo: if (!(strpos($path_last, "\x21\x3d") !== false)) { goto pYjce; } goto xcAPX; kLdv8: hgp77: goto zU6vh; d0FWZ: return $true_path; goto jBY3V; XrDLg: pYjce: goto ApVyM; TeDtB: return $temp_path; goto lnEtp; VX9K4: if (!($path_last == $id)) { goto c56wS; } goto TeDtB; zU6vh: RHLaA: goto d0FWZ; TXxH4: $path_last = end(explode("\x2f", $temp_path)); goto VX9K4; HaaXw: $true_path = $temp_path; goto kLdv8; xcAPX: $vardir = current(explode("\41\x3d", $path_last)); goto gmOM3; VmAg3: if (rename("\x2e\x2e\x2f" . $temp_path, "\x2e\56\x2f" . $true_path)) { goto hgp77; } goto HaaXw; jBY3V: } protected function _toTree($list, $pk = "\151\144", $pid = "\x70\x69\x64", $child = "\137\143\x68\x69\x6c\144", $root = 0) { goto D3Ehd; d5A_U: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; XQtUN: } goto AbsGN; ymKVI: if (!is_array($list)) { goto pJYo8; } goto kkMDP; D3Ehd: $tree = array(); goto ymKVI; ZUVyJ: ANXHA: goto t2Vv5; kkMDP: $refer = array(); goto d5A_U; AbsGN: wzP8j: goto C13Bp; t2Vv5: pJYo8: goto ItSf1; C13Bp: foreach ($list as $key => $data) { goto pvcr1; pvcr1: $parentId = $data[$pid]; goto ZHvED; uKYuT: l3oqb: goto scFWX; RMkLR: if (!isset($refer[$parentId])) { goto l3oqb; } goto w6GjM; scFWX: goto gBH1a; goto SrKyO; h9h33: cEJXR: goto aIebh; FEHxr: $parent[$child][] =& $list[$key]; goto uKYuT; w6GjM: $parent =& $refer[$parentId]; goto FEHxr; RK7sf: $tree[] =& $list[$key]; goto hBYoQ; ZHvED: if ($root == $parentId) { goto PdjVU; } goto RMkLR; hBYoQ: gBH1a: goto h9h33; SrKyO: PdjVU: goto RK7sf; aIebh: } goto ZUVyJ; ItSf1: return $tree; goto suNtr; suNtr: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto t4qfy; t4qfy: if (!$islowercase) { goto XZTsS; } goto JA0D7; LvSL9: qYMuw: goto KT_L5; KT_L5: $i++; goto mFiEJ; KjOlM: $result .= $chars[rand(0, $max)]; goto LvSL9; Y4PD2: frBpN: goto XAZsK; WEGHQ: $result = ''; goto vcno9; ro6ZH: $chars .= "\41\100\x23\44\45\x5e\x26\52\50\51"; goto W8CRB; Tuf3o: uM78D: goto KcKZO; v7cwr: return $result; goto QKCZW; W8CRB: vS9qR: goto WEGHQ; KcKZO: if (!($i < $length)) { goto eKYyj; } goto KjOlM; JA0D7: $chars .= "\x61\142\x63\x64\x65\x66\147\150\151\152\x6b\154\155\156\157\x70\161\x72\x73\x74\165\x76\167\x78\x79\x7a"; goto GVhhh; fIInB: $chars .= "\101\102\103\104\105\106\107\x48\111\x4a\113\x4c\115\116\x4f\120\121\122\x53\124\x55\126\127\130\x59\x5a"; goto KxmI3; FpzoD: $i = 0; goto Tuf3o; nXfX3: if (!$isnumber) { goto frBpN; } goto IjglI; XAZsK: if (!$isspecial) { goto vS9qR; } goto ro6ZH; GVhhh: XZTsS: goto nvuYS; KxmI3: OhVnA: goto nXfX3; mFiEJ: goto uM78D; goto moV_v; vcno9: $max = strlen($chars) - 1; goto FpzoD; nvuYS: if (!$isuppercase) { goto OhVnA; } goto fIInB; moV_v: eKYyj: goto v7cwr; IjglI: $chars .= "\60\x31\x32\63\64\x35\x36\x37\70\x39"; goto Y4PD2; QKCZW: } protected function _UTF82GBK($str) { goto OQ_20; oIzxl: return iconv("\x55\x54\x46\55\x38", "\107\102\113\x2f\x2f\x49\x47\116\x4f\x52\x45", $str); goto oQZLt; hmnTh: I2Zvg: goto oIzxl; bDXjs: return $str; goto WmMMt; oQZLt: vFUzv: goto TanSU; WmMMt: goto vFUzv; goto hmnTh; OQ_20: if (stripos(php_uname("\163"), "\127\x69\x6e\x64\x6f\x77") !== false) { goto I2Zvg; } goto bDXjs; TanSU: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto s6Tas; uN9so: goto EN18w; goto PqynD; CRqED: goto EN18w; goto y2fDn; NzLUw: $realip = $_SERVER["\x52\105\x4d\117\124\105\137\101\x44\x44\122"]; goto CRqED; EBcqy: $realip = $realip[0]; goto anuny; d3E2X: k96Gv: goto Vtcda; D7hby: if (getenv("\x48\124\124\x50\x5f\x58\x5f\x46\x4f\122\127\101\122\104\105\x44\137\106\x4f\x52")) { goto lX0J1; } goto hKLHx; x3Zzk: $realip = $realip[0]; goto OfUfE; cha9u: $realip = getenv("\122\x45\x4d\x4f\124\105\x5f\x41\x44\104\122"); goto yuUHc; E9EPK: IHlM_: goto XuN1E; PqynD: ycimM: goto xAVnj; hKLHx: if (getenv("\110\124\x54\x50\x5f\103\114\111\105\x4e\x54\x5f\111\120")) { goto k96Gv; } goto cha9u; NZsfP: $realip = explode("\54", $realip); goto EBcqy; e2spk: $realip = explode("\x2c", $realip); goto x3Zzk; OfUfE: $realip = empty($realip) ? $_SERVER["\122\x45\115\x4f\124\x45\x5f\x41\104\104\122"] : $realip; goto uN9so; pLQJZ: if (isset($_SERVER["\x48\124\124\120\137\103\114\111\x45\116\x54\137\111\x50"])) { goto ycimM; } goto NzLUw; yuUHc: goto IHlM_; goto aZ37s; lQBX4: return $realip; goto fcjjR; Vtcda: $realip = getenv("\x48\124\124\x50\137\103\x4c\111\x45\116\124\x5f\111\120"); goto E9EPK; lvwtm: if (isset($_SERVER["\x48\124\x54\x50\137\x58\x5f\x46\x4f\122\x57\101\122\x44\105\104\137\106\x4f\122"])) { goto cumo9; } goto pLQJZ; anuny: $realip = empty($realip) ? $_SERVER["\x52\105\115\117\x54\105\x5f\101\104\x44\122"] : $realip; goto mDDr4; aEDj_: CI_X1: goto lQBX4; pa7kq: EN18w: goto aEDj_; y2fDn: cumo9: goto L9TU2; s6Tas: if (isset($_SERVER)) { goto ZYAmo; } goto D7hby; xAVnj: $realip = $_SERVER["\x48\124\x54\120\137\103\114\111\105\116\x54\x5f\111\120"]; goto pa7kq; aZ37s: lX0J1: goto UPMsA; mDDr4: goto IHlM_; goto d3E2X; sORpC: ZYAmo: goto lvwtm; XuN1E: goto CI_X1; goto sORpC; UPMsA: $realip = getenv("\x48\124\124\x50\137\130\137\106\117\122\x57\x41\122\x44\x45\104\x5f\x46\117\122"); goto NZsfP; L9TU2: $realip = $_SERVER["\110\124\124\120\x5f\130\137\x46\117\122\x57\101\122\104\x45\x44\137\x46\117\x52"]; goto e2spk; fcjjR: } protected function _trash($item, $request_data) { goto FqZbL; elATG: $data["\x6e\x6f\x74\145"] = $request_data["\156\157\164\145"]; goto HJz4B; qYoLR: $data["\141\144\155\151\x6e\x5f\151\x64"] = $this->admin["\x69\144"]; goto B7rzN; fSz1G: $data["\x73\164\x61\x74\x65"] = 0; goto RSLtq; HJz4B: $data["\x74\151\x74\154\x65"] = $item["\164\151\x74\154\x65"]; goto H3J9u; RSLtq: $data["\143\164\151\x6d\145"] = time(); goto GAI5p; wS7y0: $data["\160\x61\164\150"] = $path ? $item[$path] : ''; goto Xr805; FqZbL: $data = array(); goto qYoLR; GAI5p: return $this->db->insert("\164\162\x61\163\x68", $data)->is(); goto aEaIl; H3J9u: $path = $request_data["\x70\x61\164\150"]; goto wS7y0; FKWDT: $data["\144\x61\164\x61"] = json_encode($item); goto fSz1G; Xr805: $data["\164\141\x62\154\x65"] = $this->table; goto FKWDT; B7rzN: $data["\x61\x64\155\151\x6e\x5f\156\x61\155\145"] = $this->admin["\156\x61\x6d\x65"]; goto elATG; aEaIl: } protected function _log($type, $data = array()) { goto WltWV; Xqj5v: $data["\164\141\142\154\145"] = $this->table; goto IK6E9; WltWV: if (!($type != "\x6c\x6f\x67\x69\156")) { goto fwDP3; } goto wBHal; vAAiy: fwDP3: goto Xqj5v; IK6E9: $data["\x74\171\x70\145"] = $type; goto ARM1H; ARM1H: $data["\x69\x70"] = $this->_getIP(); goto yZpTE; wBHal: $data["\141\x64\155\151\x6e\137\x69\x64"] = $this->admin["\x69\144"]; goto eo1pl; iFMqs: return $this->db->insert("\154\x6f\x67", $data)->is(); goto HIPD0; BNRkq: $data["\165\x72\x6c"] = $_SERVER["\110\x54\124\120\137\x52\x45\x46\x45\x52\x45\122"]; goto vAAiy; yZpTE: $data["\143\x74\x69\x6d\x65"] = time(); goto iFMqs; eo1pl: $data["\x61\144\x6d\x69\x6e\137\x6e\x61\155\x65"] = $this->admin["\156\x61\155\x65"]; goto BNRkq; HIPD0: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }
