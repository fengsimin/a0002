<?php
//Copyright (c) 2016 iFeiwu.com
 class Database extends Ifeiwu { function __construct() { $this->table = ''; parent::__construct(); } protected function postBackup() { goto Q742I; wXFi0: RH6KY: goto zlhIn; zlhIn: return $this->success('', $name); goto daO6h; TOyft: goto G92fM; goto wXFi0; scoO5: $name = $mb->export(); goto vtW6G; vtW6G: if ($name !== false) { goto RH6KY; } goto i1J0B; i1J0B: return $this->error(); goto TOyft; Q742I: ifeiwu\Loader::import("\145\x78\x74\x65\x6e\144\x2f\115\171\x73\161\154\x42\141\143\153\x75\x70"); goto dYSxF; daO6h: G92fM: goto W0sMo; dYSxF: $mb = new MysqlBackup(); goto scoO5; W0sMo: } protected function postReply($filename) { goto Rsw_e; NG2lz: $mb = new MysqlBackup(); goto f89pO; Rsw_e: ifeiwu\Loader::import("\145\170\x74\x65\156\144\x2f\115\x79\x73\161\x6c\x42\141\x63\153\165\x70"); goto NG2lz; ngR_A: goto zumYQ; goto QYiWu; w_Z3y: zumYQ: goto vh7ia; M9eoV: return $this->success(); goto w_Z3y; xrNSY: if (!$errors) { goto Dld67; } goto NG9Rm; QYiWu: Dld67: goto M9eoV; f89pO: $errors = $mb->import($filename); goto xrNSY; NG9Rm: return $this->error(json_encode($errors)); goto ngR_A; vh7ia: } protected function getSqls() { goto dkJPA; dkJPA: $dir = "\x73\161\x6c\x2f"; goto xQXb9; xQXb9: if (!(false != ($handle = opendir($dir)))) { goto Qoix1; } goto bg6hm; EpNdW: $stat = stat($dir . $file); goto yRNRi; yRNRi: $files[] = array("\156\x61\x6d\x65" => $file, "\163\151\172\x65" => $stat["\163\151\x7a\145"], "\x63\x74\151\155\145" => $stat["\143\164\151\155\x65"]); goto kV5UW; T4CyM: closedir($handle); goto ZKbac; d1uF4: if (!(false !== ($file = readdir($handle)))) { goto rPMR0; } goto y7bC3; bg6hm: V11ue: goto d1uF4; y7bC3: if (!($file != "\56" && $file != "\56\56" && strpos($file, "\x2e"))) { goto KkvsA; } goto EpNdW; JX2X0: rPMR0: goto T4CyM; ZKbac: Qoix1: goto LRJbn; kV5UW: KkvsA: goto ITm2e; ITm2e: goto V11ue; goto JX2X0; LRJbn: return array_reverse($files); goto Q5h34; Q5h34: } protected function postDelete($filename) { goto cLZ62; zdv7H: return $this->error(); goto sEZuV; zf5IG: k73h3: goto wgN4c; sEZuV: goto JiavY; goto zf5IG; cLZ62: if (unlink("\163\161\x6c\x2f{$filename}") !== false) { goto k73h3; } goto zdv7H; Gt3zF: JiavY: goto eyv1m; wgN4c: return $this->success(); goto Gt3zF; eyv1m: } }
